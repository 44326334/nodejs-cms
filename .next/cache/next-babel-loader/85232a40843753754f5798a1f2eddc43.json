{"ast":null,"code":"// import constructors from './constructors';\n// const URL = 'http://localhost:3000/admin/api'\nconst domain = 'http://localhost';\nconst port = '3000';\nconst route = 'admin/api';\n\nconst queryDocs = require('./constructors');\n\nconst GRAPHQL_URL = 'http://localhost:3000/admin/api';\nconsole.log(createCall(queryDocs.queryAllUsers('id')));\n\nconst createCall = async queryDoc => {\n  const payload = JSON.stringify({\n    query: queryDoc\n  });\n  console.log(payload);\n  let response;\n\n  try {\n    response = await fetch(GRAPHQL_URL, {\n      method: 'POST',\n      // headers: {\n      //   Authorization: `token ${accessToken}`,\n      // },\n      body: payload\n    });\n  } catch (e) {\n    return {\n      message: e.message,\n      ok: false,\n      body: {}\n    };\n  }\n\n  let body;\n\n  try {\n    body = await response.json();\n  } catch (e) {\n    console.log(e);\n    return {\n      message: e.message,\n      ok: response.ok,\n      body: {}\n    };\n  }\n\n  return {\n    status: response.status,\n    ok: response.ok,\n    body: body.data\n  };\n}; // export const queryid = (query) => {\n//   createCall(queryDocs.queryAllUsers(query))\n// }","map":{"version":3,"sources":["C:/cmsapp/api/index.js"],"names":["domain","port","route","queryDocs","require","GRAPHQL_URL","console","log","createCall","queryAllUsers","queryDoc","payload","JSON","stringify","query","response","fetch","method","body","e","message","ok","json","status","data"],"mappings":"AAAA;AAEA;AACA,MAAMA,MAAM,GAAG,kBAAf;AACA,MAAMC,IAAI,GAAG,MAAb;AACA,MAAMC,KAAK,GAAG,WAAd;;AACA,MAAMC,SAAS,GAAGC,OAAO,CAAC,gBAAD,CAAzB;;AACA,MAAMC,WAAW,GAAG,iCAApB;AAEAC,OAAO,CAACC,GAAR,CAAYC,UAAU,CAACL,SAAS,CAACM,aAAV,CAAwB,IAAxB,CAAD,CAAtB;;AAEA,MAAMD,UAAU,GAAG,MAAOE,QAAP,IAAoB;AACrC,QAAMC,OAAO,GAAGC,IAAI,CAACC,SAAL,CAAe;AAC7BC,IAAAA,KAAK,EAAEJ;AADsB,GAAf,CAAhB;AAGAJ,EAAAA,OAAO,CAACC,GAAR,CAAYI,OAAZ;AACA,MAAII,QAAJ;;AACA,MAAI;AACFA,IAAAA,QAAQ,GAAG,MAAMC,KAAK,CACpBX,WADoB,EAEpB;AACEY,MAAAA,MAAM,EAAE,MADV;AAEE;AACA;AACA;AACAC,MAAAA,IAAI,EAAEP;AALR,KAFoB,CAAtB;AAUD,GAXD,CAWE,OAAMQ,CAAN,EAAS;AACT,WAAO;AACLC,MAAAA,OAAO,EAAED,CAAC,CAACC,OADN;AAELC,MAAAA,EAAE,EAAE,KAFC;AAGLH,MAAAA,IAAI,EAAE;AAHD,KAAP;AAKD;;AACD,MAAIA,IAAJ;;AACA,MAAI;AACFA,IAAAA,IAAI,GAAG,MAAMH,QAAQ,CAACO,IAAT,EAAb;AACD,GAFD,CAEE,OAAMH,CAAN,EAAS;AACTb,IAAAA,OAAO,CAACC,GAAR,CAAYY,CAAZ;AACA,WAAO;AACLC,MAAAA,OAAO,EAAED,CAAC,CAACC,OADN;AAELC,MAAAA,EAAE,EAAEN,QAAQ,CAACM,EAFR;AAGLH,MAAAA,IAAI,EAAE;AAHD,KAAP;AAKD;;AACD,SAAO;AACLK,IAAAA,MAAM,EAAER,QAAQ,CAACQ,MADZ;AAELF,IAAAA,EAAE,EAAEN,QAAQ,CAACM,EAFR;AAGLH,IAAAA,IAAI,EAAEA,IAAI,CAACM;AAHN,GAAP;AAKD,CAxCD,C,CA0CA;AACA;AACA","sourcesContent":["// import constructors from './constructors';\r\n\r\n// const URL = 'http://localhost:3000/admin/api'\r\nconst domain = 'http://localhost';\r\nconst port = '3000';\r\nconst route = 'admin/api';\r\nconst queryDocs = require('./constructors')\r\nconst GRAPHQL_URL = 'http://localhost:3000/admin/api'\r\n\r\nconsole.log(createCall(queryDocs.queryAllUsers('id')))\r\n\r\nconst createCall = async (queryDoc) => {\r\n  const payload = JSON.stringify({\r\n    query: queryDoc\r\n  });\r\n  console.log(payload)\r\n  let response; \r\n  try {\r\n    response = await fetch(\r\n      GRAPHQL_URL,\r\n      {\r\n        method: 'POST',\r\n        // headers: {\r\n        //   Authorization: `token ${accessToken}`,\r\n        // },\r\n        body: payload,\r\n      }\r\n    );\r\n  } catch(e) {\r\n    return {\r\n      message: e.message,\r\n      ok: false,\r\n      body: {}\r\n    }\r\n  }\r\n  let body\r\n  try {\r\n    body = await response.json();\r\n  } catch(e) {\r\n    console.log(e)\r\n    return {\r\n      message: e.message,\r\n      ok: response.ok,\r\n      body: {}\r\n    }\r\n  }\r\n  return {\r\n    status: response.status,\r\n    ok: response.ok,\r\n    body: body.data,\r\n  };\r\n}\r\n\r\n// export const queryid = (query) => {\r\n//   createCall(queryDocs.queryAllUsers(query))\r\n// }"]},"metadata":{},"sourceType":"script"}