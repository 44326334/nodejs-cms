{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport constructors from './constructors'; // const URL = 'http://localhost:3000/admin/api'\n\nvar domain = 'http://localhost';\nvar port = '3000';\nvar route = 'admin/api';\n\nvar queryDoc = require('./constructors');\n\nvar createCall = function createCall(document, accessToken) {\n  var payload, response;\n  return _regeneratorRuntime.async(function createCall$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          payload = _JSON$stringify({\n            query: queryDoc\n          });\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(fetch(GRAPHQL_URL, {\n            method: 'POST',\n            headers: {// Authorization: `token ${accessToken}`,\n            },\n            body: payload\n          }));\n\n        case 3:\n          response = _context.sent;\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(response.json());\n\n        case 6:\n          body = _context.sent;\n          return _context.abrupt(\"return\", {\n            status: response.status,\n            ok: response.ok,\n            body: body.data\n          });\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport var queryAllUsers = function queryAllUsers(_ref, accessToken) {\n  var query = _ref.query;\n  createCall(constructors.queryAllUsers({\n    query: query\n  }), accessToken);\n};","map":{"version":3,"sources":["C:/cmsapp/api/index.js"],"names":["constructors","domain","port","route","queryDoc","require","createCall","document","accessToken","payload","query","fetch","GRAPHQL_URL","method","headers","body","response","json","status","ok","data","queryAllUsers"],"mappings":";;AAAA,OAAOA,YAAP,MAAyB,gBAAzB,C,CAEA;;AACA,IAAMC,MAAM,GAAG,kBAAf;AACA,IAAMC,IAAI,GAAG,MAAb;AACA,IAAMC,KAAK,GAAG,WAAd;;AACA,IAAMC,QAAQ,GAAGC,OAAO,CAAC,gBAAD,CAAxB;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAOC,QAAP,EAAiBC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACXC,UAAAA,OADW,GACD,gBAAe;AAC7BC,YAAAA,KAAK,EAAEN;AADsB,WAAf,CADC;AAAA;AAAA,2CAKAO,KAAK,CACpBC,WADoB,EAEpB;AACEC,YAAAA,MAAM,EAAE,MADV;AAEEC,YAAAA,OAAO,EAAE,CACP;AADO,aAFX;AAKEC,YAAAA,IAAI,EAAEN;AALR,WAFoB,CALL;;AAAA;AAKjBO,UAAAA,QALiB;AAAA;AAAA,2CAeJA,QAAQ,CAACC,IAAT,EAfI;;AAAA;AAejBF,UAAAA,IAfiB;AAAA,2CAgBV;AACLG,YAAAA,MAAM,EAAEF,QAAQ,CAACE,MADZ;AAELC,YAAAA,EAAE,EAAEH,QAAQ,CAACG,EAFR;AAGLJ,YAAAA,IAAI,EAAEA,IAAI,CAACK;AAHN,WAhBU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAnB;;AAuBA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,OAAYb,WAAZ,EAA4B;AAAA,MAAzBE,KAAyB,QAAzBA,KAAyB;AACvDJ,EAAAA,UAAU,CAACN,YAAY,CAACqB,aAAb,CAA2B;AAAEX,IAAAA,KAAK,EAALA;AAAF,GAA3B,CAAD,EAAwCF,WAAxC,CAAV;AACD,CAFM","sourcesContent":["import constructors from './constructors';\r\n\r\n// const URL = 'http://localhost:3000/admin/api'\r\nconst domain = 'http://localhost';\r\nconst port = '3000';\r\nconst route = 'admin/api';\r\nconst queryDoc = require('./constructors')\r\n\r\nconst createCall = async (document, accessToken) => {\r\n  const payload = JSON.stringify({\r\n    query: queryDoc,\r\n  });\r\n  let response; \r\n  response = await fetch(\r\n    GRAPHQL_URL,\r\n    {\r\n      method: 'POST',\r\n      headers: {\r\n        // Authorization: `token ${accessToken}`,\r\n      },\r\n      body: payload,\r\n    }\r\n  );\r\n  body = await response.json();\r\n  return {\r\n    status: response.status,\r\n    ok: response.ok,\r\n    body: body.data,\r\n  };\r\n}\r\n\r\nexport const queryAllUsers = ({ query }, accessToken) => {\r\n  createCall(constructors.queryAllUsers({ query }), accessToken)\r\n}"]},"metadata":{},"sourceType":"module"}